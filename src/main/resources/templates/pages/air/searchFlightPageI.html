<!-- File: src/main/resources/templates/pages/air/searchFlightPageI.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>항공편 검색 결과</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h2 class="mb-4">항공편 검색 결과</h2>
    <div>

        <!-- 검색 조건 표시 -->
        <div class="alert alert-info" th:if="${fhlist != null}">
            <p><strong>출발지:</strong> <span th:text="${fhlist.daID}"></span></p>
            <p><strong>도착지:</strong> <span th:text="${fhlist.aaID}"></span></p>
<!--            <p><strong>출발 날짜:</strong> <span th:text="${#strings.substring(fhlist.dpTime, 0, 2) + '-' + #strings.substring(fhlist.dpTime, 2, 4)}"></span></p>-->
            <p><strong>출발 날짜:</strong> <span th:text="${#strings.substring(fhlist.dpTime, 0, 4) + '-' + #strings.substring(fhlist.dpTime, 4, 6) + '-' + #strings.substring(fhlist.dpTime, 6, 8)}"></span></p>
            <p><strong>항공사:</strong> <span th:text="${fhlist.airline != '' ? fhlist.airline : '전체'}"></span></p>
<!--            <p><strong>항공편명:</strong> <span th:text="${fhlist.airline}"></span></p>-->
        </div>
    </div>

    <!-- 검색 결과가 없을 경우 -->
    <div class="alert alert-warning" th:if="${#lists.isEmpty(flist)}">
        <p>검색 조건에 맞는 항공편이 없습니다. 다른 날짜나 목적지를 선택해 보세요.</p>
    </div>

    <!-- 항공편 목록 테이블 -->
    <table class="table table-striped" th:if="${not #lists.isEmpty(flist)}">
        <thead>
        <tr>
            <th>출발시간</th>
            <th>출발지</th>
            <th>도착지</th>
            <th>항공사</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="flight : ${flist}">
            <td th:text="${flight.daID}"></td>
            <td th:text="${flight.aaID}"></td>
            <td th:text="${flight.dpTime}"></td>
            <td th:text="${flight.airline}"></td>
        </tr>
        </tbody>
    </table>

    <!-- 새 검색 버튼 -->
    <div class="mt-4">
        <a href="/fli/flight" class="btn btn-secondary">새 검색</a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>
</html>